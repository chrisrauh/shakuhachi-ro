<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Note Parser Test - Flexible Input</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü™à</text></svg>">
  <style>
    body {
      font-family: 'Noto Sans JP', sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
      background: #f5f5f5;
    }
    h1 {
      color: #333;
      border-bottom: 3px solid #4CAF50;
      padding-bottom: 10px;
    }
    .test-section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .test-section h2 {
      color: #4CAF50;
      margin-top: 0;
    }
    .result {
      background: #E8F5E9;
      padding: 10px;
      border-left: 4px solid #4CAF50;
      margin: 10px 0;
      font-family: monospace;
    }
    .error {
      background: #FFEBEE;
      border-left-color: #F44336;
    }
    code {
      background: #f5f5f5;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <h1>üéµ Note Parser Test - Flexible Input</h1>

  <div class="test-section">
    <h2>Testing parseNote() Function</h2>
    <p>The <code>parseNote()</code> function accepts 3 input formats:</p>
    <ul>
      <li><strong>Romaji:</strong> 'ro', 'tsu', 're', 'chi', 'ri'</li>
      <li><strong>Katakana:</strong> '„É≠', '„ÉÑ', '„É¨', '„ÉÅ', '„É™'</li>
      <li><strong>Western:</strong> 'D4', 'F4', 'G4', 'A4', 'C5'</li>
    </ul>
  </div>

  <div class="test-section">
    <h2>Test Results</h2>
    <div id="test-results"></div>
  </div>

  <script type="module">
    import { parseNote } from './src/data/mappings.js';

    const resultsDiv = document.getElementById('test-results');

    // Test cases: [input, description]
    const tests = [
      // Romaji
      ['ro', 'Romaji: "ro"'],
      ['tsu', 'Romaji: "tsu"'],
      ['re', 'Romaji: "re"'],
      ['chi', 'Romaji: "chi"'],
      ['ri', 'Romaji: "ri"'],

      // Katakana
      ['„É≠', 'Katakana: "„É≠"'],
      ['„ÉÑ', 'Katakana: "„ÉÑ"'],
      ['„É¨', 'Katakana: "„É¨"'],
      ['„ÉÅ', 'Katakana: "„ÉÅ"'],
      ['„É™', 'Katakana: "„É™"'],

      // Western pitch
      ['D4', 'Western: "D4"'],
      ['F4', 'Western: "F4"'],
      ['G4', 'Western: "G4"'],
      ['A4', 'Western: "A4"'],
      ['C5', 'Western: "C5"'],

      // Invalid input
      ['invalid', 'Invalid input'],
      ['Z9', 'Invalid pitch']
    ];

    tests.forEach(([input, description]) => {
      const result = parseNote(input);
      const div = document.createElement('div');
      div.className = result ? 'result' : 'result error';

      if (result) {
        div.innerHTML = `
          ‚úì <strong>${description}</strong><br>
          &nbsp;&nbsp;‚Üí Kana: ${result.kana},
          Romaji: ${result.romaji},
          Pitch: ${result.pitch}
        `;
      } else {
        div.innerHTML = `‚úó <strong>${description}</strong><br>&nbsp;&nbsp;‚Üí Not found`;
      }

      resultsDiv.appendChild(div);
    });

    console.log('‚úì All parser tests completed');
    console.log('\nExample usage:');
    console.log("parseNote('ro')   ‚Üí", parseNote('ro'));
    console.log("parseNote('„É≠')   ‚Üí", parseNote('„É≠'));
    console.log("parseNote('D4')   ‚Üí", parseNote('D4'));
  </script>
</body>
</html>
